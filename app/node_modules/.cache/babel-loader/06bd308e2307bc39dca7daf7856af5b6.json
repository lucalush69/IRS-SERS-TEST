{"ast":null,"code":"\"use strict\";\n\nvar _a, _b;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedeemBid = exports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = exports.ProxyCallAddress = exports.RedeemBidArgs = void 0;\n\nconst mpl_core_1 = require(\"@metaplex-foundation/mpl-core\");\n\nconst spl_token_1 = require(\"@solana/spl-token\");\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst mpl_token_metadata_1 = require(\"@metaplex-foundation/mpl-token-metadata\");\n\nconst mpl_token_vault_1 = require(\"@metaplex-foundation/mpl-token-vault\");\n\nconst MetaplexProgram_1 = require(\"../MetaplexProgram\");\n\nclass RedeemBidArgs extends mpl_core_1.Borsh.Data {\n  constructor() {\n    super(...arguments);\n    this.instruction = 2;\n  }\n\n}\n\nexports.RedeemBidArgs = RedeemBidArgs;\n_a = RedeemBidArgs;\nRedeemBidArgs.SCHEMA = _a.struct([['instruction', 'u8']]);\nvar ProxyCallAddress;\n\n(function (ProxyCallAddress) {\n  ProxyCallAddress[ProxyCallAddress[\"RedeemBid\"] = 0] = \"RedeemBid\";\n  ProxyCallAddress[ProxyCallAddress[\"RedeemFullRightsTransferBid\"] = 1] = \"RedeemFullRightsTransferBid\";\n})(ProxyCallAddress = exports.ProxyCallAddress || (exports.ProxyCallAddress = {}));\n\nclass RedeemUnusedWinningConfigItemsAsAuctioneerArgs extends mpl_core_1.Borsh.Data {\n  constructor() {\n    super(...arguments);\n    this.instruction = 12;\n  }\n\n}\n\nexports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\n_b = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\nRedeemUnusedWinningConfigItemsAsAuctioneerArgs.SCHEMA = _b.struct([['instruction', 'u8'], ['winningConfigItemIndex', 'u8'], ['proxyCall', 'u8']]);\n\nclass RedeemBid extends mpl_core_1.Transaction {\n  constructor(options, params) {\n    super(options);\n    const {\n      feePayer\n    } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidderMeta: bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      isPrintingType,\n      safetyDepositConfig,\n      transferAuthority,\n      masterEdition,\n      reservationList,\n      auctioneerReclaimIndex\n    } = params;\n    const data = auctioneerReclaimIndex ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n      winningConfigItemIndex: auctioneerReclaimIndex,\n      proxyCall: ProxyCallAddress.RedeemBid\n    }) : RedeemBidArgs.serialize();\n    this.add(new web3_js_1.TransactionInstruction({\n      keys: [{\n        pubkey: auctionManager,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: safetyDepositTokenStore,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: destination,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: bidRedemption,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: safetyDeposit,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: vault,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: fractionMint,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: auction,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: bidMetadata,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: bidder,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: feePayer,\n        isSigner: true,\n        isWritable: false\n      }, {\n        pubkey: spl_token_1.TOKEN_PROGRAM_ID,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: mpl_token_vault_1.VaultProgram.PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: mpl_token_metadata_1.MetadataProgram.PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: store,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: web3_js_1.SystemProgram.programId,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: transferAuthority,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: safetyDepositConfig,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: auctionExtended,\n        isSigner: false,\n        isWritable: false\n      }, ...(isPrintingType && masterEdition && reservationList ? [{\n        pubkey: masterEdition,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: reservationList,\n        isSigner: false,\n        isWritable: true\n      }] : [])],\n      programId: MetaplexProgram_1.MetaplexProgram.PUBKEY,\n      data\n    }));\n  }\n\n}\n\nexports.RedeemBid = RedeemBid;","map":{"version":3,"sources":["../../../src/transactions/RedeemBid.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RedeemBid = exports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = exports.ProxyCallAddress = exports.RedeemBidArgs = void 0;\nconst mpl_core_1 = require(\"@metaplex-foundation/mpl-core\");\nconst spl_token_1 = require(\"@solana/spl-token\");\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst mpl_token_metadata_1 = require(\"@metaplex-foundation/mpl-token-metadata\");\nconst mpl_token_vault_1 = require(\"@metaplex-foundation/mpl-token-vault\");\nconst MetaplexProgram_1 = require(\"../MetaplexProgram\");\nclass RedeemBidArgs extends mpl_core_1.Borsh.Data {\n    constructor() {\n        super(...arguments);\n        this.instruction = 2;\n    }\n}\nexports.RedeemBidArgs = RedeemBidArgs;\n_a = RedeemBidArgs;\nRedeemBidArgs.SCHEMA = _a.struct([['instruction', 'u8']]);\nvar ProxyCallAddress;\n(function (ProxyCallAddress) {\n    ProxyCallAddress[ProxyCallAddress[\"RedeemBid\"] = 0] = \"RedeemBid\";\n    ProxyCallAddress[ProxyCallAddress[\"RedeemFullRightsTransferBid\"] = 1] = \"RedeemFullRightsTransferBid\";\n})(ProxyCallAddress = exports.ProxyCallAddress || (exports.ProxyCallAddress = {}));\nclass RedeemUnusedWinningConfigItemsAsAuctioneerArgs extends mpl_core_1.Borsh.Data {\n    constructor() {\n        super(...arguments);\n        this.instruction = 12;\n    }\n}\nexports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\n_b = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\nRedeemUnusedWinningConfigItemsAsAuctioneerArgs.SCHEMA = _b.struct([\n    ['instruction', 'u8'],\n    ['winningConfigItemIndex', 'u8'],\n    ['proxyCall', 'u8'],\n]);\nclass RedeemBid extends mpl_core_1.Transaction {\n    constructor(options, params) {\n        super(options);\n        const { feePayer } = options;\n        const { store, vault, auction, auctionExtended, auctionManager, bidRedemption, bidderMeta: bidMetadata, safetyDepositTokenStore, destination, safetyDeposit, fractionMint, bidder, isPrintingType, safetyDepositConfig, transferAuthority, masterEdition, reservationList, auctioneerReclaimIndex, } = params;\n        const data = auctioneerReclaimIndex\n            ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n                winningConfigItemIndex: auctioneerReclaimIndex,\n                proxyCall: ProxyCallAddress.RedeemBid,\n            })\n            : RedeemBidArgs.serialize();\n        this.add(new web3_js_1.TransactionInstruction({\n            keys: [\n                {\n                    pubkey: auctionManager,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: safetyDepositTokenStore,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: destination,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: bidRedemption,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: safetyDeposit,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: vault,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: fractionMint,\n                    isSigner: false,\n                    isWritable: true,\n                },\n                {\n                    pubkey: auction,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: bidMetadata,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: bidder,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: feePayer,\n                    isSigner: true,\n                    isWritable: false,\n                },\n                {\n                    pubkey: spl_token_1.TOKEN_PROGRAM_ID,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: mpl_token_vault_1.VaultProgram.PUBKEY,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: mpl_token_metadata_1.MetadataProgram.PUBKEY,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: store,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: web3_js_1.SystemProgram.programId,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: transferAuthority,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: safetyDepositConfig,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                {\n                    pubkey: auctionExtended,\n                    isSigner: false,\n                    isWritable: false,\n                },\n                ...(isPrintingType && masterEdition && reservationList\n                    ? [\n                        {\n                            pubkey: masterEdition,\n                            isSigner: false,\n                            isWritable: true,\n                        },\n                        {\n                            pubkey: reservationList,\n                            isSigner: false,\n                            isWritable: true,\n                        },\n                    ]\n                    : []),\n            ],\n            programId: MetaplexProgram_1.MetaplexProgram.PUBKEY,\n            data,\n        }));\n    }\n}\nexports.RedeemBid = RedeemBid;\n//# sourceMappingURL=RedeemBid.js.map"]},"metadata":{},"sourceType":"script"}